<!DOCTYPE html>
<html>
  <head>
    <title>interest-ing</title>
    <!-- For React.js IE 8 support -->
    <!--[if lt IE 9]>
      <script src="http://cdnjs.cloudflare.com/ajax/libs/es5-shim/2.2.0/es5-shim.js"></script>
      <script src="http://cdnjs.cloudflare.com/ajax/libs/es5-shim/2.2.0/es5-sham.js"></script>
    <![endif]-->

    <!-- React.js -->
    <script src="http://fb.me/react-0.9.0.js"></script>

    <!-- Allows us to use JSX below - notice the <script type="text/jsx">, thatâ€™s normally <script type="text/javascript"> -->
    <script src="http://fb.me/JSXTransformer-0.9.0.js"></script>

    <!-- jQuery -->
    <script src="http://code.jquery.com/jquery-1.11.0.js"></script>

    <script src="http://cdnjs.cloudflare.com/ajax/libs/moment.js/2.5.1/moment.js"></script>

    <!-- Bootstrap styles -->
    <link rel="stylesheet" href="http://netdna.bootstrapcdn.com/bootswatch/3.1.1/united/bootstrap.min.css">
    <link rel="stylesheet" href="http://netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.min.css">
  </head>
  <body>
    <div id="content" class="container">
      <form class="form-horizontal" role="form">
        <legend>Interest-ing</legend>
        <div class="form-group">
          <label for="principal" class="col-sm-2 control-label">Principal</label>
          <div class="col-sm-10 input-group">
            <span class="input-group-addon">
            <i class="fa fa-money"></i>
          </span>
            <input type="text" class="form-control" id="principal" placeholder="5000">
          </div>
        </div>
        <div class="form-group">
          <label for="due" class="col-sm-2 control-label">Due</label>
          <div class="col-sm-10 input-group">
             <span class="input-group-addon"> 
              <i class="fa fa-calendar-o"></i>
            </span>
            <input type="text" class="form-control" id="due" placeholder="YYYY-MM-DD">
          </div>
        </div>
        <div class="form-group">
          <label for="rate" class="col-sm-2 control-label">Interest rate</label>
          <div class="col-sm-10 input-group">
            <input type="text" class="form-control" id="rate" value="2.0">
            <span class="input-group-addon">%</span>
          </div>
        </div>
      </form>
      <hr />
      <table class="table table-striped">
      <thead>
        <tr>
          <th>#</th>
          <th>Date</th>
          <th>Interest</th>
          <th>Total</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>1</td>
          <td>12 Jan</td>
          <td>$400</td>
          <td>$4400</td>
        </tr>
        <tr>
          <td>1</td>
          <td>13 Jan</td>
          <td>$400</td>
          <td>$4800</td>
        </tr>
      </tbody>
    </table>
    </div>
    <script type="text/jsx">
      /** @jsx React.DOM */

      var principal = 80000;
      var monthlyRate = 12.0;
      var dailyRate = monthlyRate / 12 / 100;
      var futureValue = principal;
      var dueDate = new Date("2014-01-02");

      var days = 14;

      var dailyTotals = [];

      for (i=1; i<=days; i++) {
        var day = moment(dueDate);
        day.add("days", i);
        var interest = futureValue * dailyRate;
        futureValue = futureValue + interest;
        dailyTotals.push({
          date: day.format(),
          interest: interest,
          total: futureValue
        });
      }
      console.log(dailyTotals);

      var Interest = React.createClass({
        render: function() {
          return (
            <h1>{this.helloWorld()}</h1>
          );
        },
        helloWorld: function() {
          var number = 100 * 4; 
          return number;
        }
      });

      $(function() {
        //React.renderComponent(<Interest />, $('#content').get(0));
      });
    </script>
  </body>
</html>
